(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(0),i=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=i.a.createContext({}),b=function(e){var t=i.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=b(e.components);return i.a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},m=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),l=b(n),m=a,d=l["".concat(r,".").concat(m)]||l[m]||u[m]||o;return n?i.a.createElement(d,s(s({ref:t},p),{},{components:n})):i.a.createElement(d,s({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var p=2;p<o;p++)r[p]=n[p];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},76:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(2),i=n(6),o=(n(0),n(105)),r={title:"API endpoints"},s={unversionedId:"api",id:"api",isDocsHomePage:!1,title:"API endpoints",description:"Having publicly-visible API endpoints is optional. API endpoints only work after you have enabled GitHub Pages and have a public repository or a private repository with a Pro plan.",source:"@site/docs/api.md",slug:"/api",permalink:"/docs/api",editUrl:"https://github.com/stethoscope-js/stethoscope.js.org/blob/master/docs/api.md",version:"current",sidebar:"someSidebar",previous:{title:"Understanding your data",permalink:"/docs/understanding-data"},next:{title:"Stethoscope Integrations",permalink:"/docs/integrations"}},c=[{value:"Base URL",id:"base-url",children:[{value:"Custom domain",id:"custom-domain",children:[]}]},{value:"API",id:"api",children:[]},{value:"Fetching data",id:"fetching-data",children:[]},{value:"Rate limits",id:"rate-limits",children:[]}],p={rightToc:c};function b(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Having publicly-visible API endpoints is optional. API endpoints only work after you have enabled GitHub Pages and have a public repository or a private repository with a Pro plan."))),Object(o.b)("h2",{id:"base-url"},"Base URL"),Object(o.b)("p",null,"The commits with your data also summarize it for easy consumption through an API. The ",Object(o.b)("inlineCode",{parentName:"p"},"data")," directory contains a list of integrations, and each of them has a ",Object(o.b)("inlineCode",{parentName:"p"},"api.json")," file."),Object(o.b)("p",null,"After you have enabled publishing to GitHub Pages, your repository will be available at ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://username.github.io/repo/"}),"https://username.github.io/repo/")," where ",Object(o.b)("inlineCode",{parentName:"p"},"username")," is your GitHub username and ",Object(o.b)("inlineCode",{parentName:"p"},"repo")," is the name of your repository. This is your base URL."),Object(o.b)("h3",{id:"custom-domain"},"Custom domain"),Object(o.b)("p",null,"You can also enable custom domains on your GitHub repository. To enable publishing with a custom domain:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Create a new ",Object(o.b)("inlineCode",{parentName:"li"},"CNAME")," file in your repository root"),Object(o.b)("li",{parentName:"ol"},"Enter your domain name in the file and commit it"),Object(o.b)("li",{parentName:"ol"},"Set GitHub Pages' DNS records for your domain")),Object(o.b)("p",null,"For more information, including a list of DNS records, read the following article on the GitHub website: ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.github.com/en/github/working-with-github-pages/configuring-a-custom-domain-for-your-github-pages-site"}),"Configuring a custom domain for your GitHub Pages site"),"."),Object(o.b)("h2",{id:"api"},"API"),Object(o.b)("p",null,"Each integration has its own API. For example, time tracking from RescueTime is available at ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://username.github.io/repo/data/rescuetime-time-tracking/api.json"}),"https://username.github.io/repo/data/rescuetime-time-tracking/api.json"),". As an example, the template repository's RescueTime data is available at ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://stethoscope-js.github.io/stethoscope/data/rescuetime-time-tracking/api.json"}),"https://stethoscope-js.github.io/stethoscope/data/rescuetime-time-tracking/api.json"),"."),Object(o.b)("p",null,"The JSON response of this endpoint is:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "top-overview": {\n    "days": {\n      "2020": ["01.json", "02.json", "03.json", "04.json"]\n    },\n    "months": ["2020.json"],\n    "weeks": {\n      "2020": ["1.json", "2.json", "3.json"]\n    },\n    "years": "years.json"\n  }\n}\n')),Object(o.b)("p",null,"In this example, RescueTime has tracked the top categories for the months 01 to 04 in 2020 (January to April), and the week numbers 1 to 3."),Object(o.b)("h2",{id:"fetching-data"},"Fetching data"),Object(o.b)("p",null,"In the above example, the keys under ",Object(o.b)("inlineCode",{parentName:"p"},"top-overview")," are ",Object(o.b)("inlineCode",{parentName:"p"},"days"),", ",Object(o.b)("inlineCode",{parentName:"p"},"months"),", ",Object(o.b)("inlineCode",{parentName:"p"},"weeks"),", and ",Object(o.b)("inlineCode",{parentName:"p"},"years"),". If you want to access a yearly summary, you have to visit ",Object(o.b)("inlineCode",{parentName:"p"},"years.json")," like so:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"https://stethoscope-js.github.io/stethoscope/data/rescuetime-time-tracking/summary/top-overview/years.json\n")),Object(o.b)("p",null,"The structure of this URL is, after your base URL:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"data")," (the directory for data)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"rescuetime-time-tracking")," (the name of the integration data point)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"summary")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"top-overview")," (the name of the key to access)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"years.json")," (the endpoint to access)")),Object(o.b)("p",null,"The response for this URL will be the yearly RescueTime top activities:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "2020": {\n    "Entertainment": 692010,\n    "Software Development": 3236714,\n    "Utilities": 311808,\n    "News & Opinion": 89289,\n    "Reference & Learning": 475160,\n    "Uncategorized": 386005,\n    "Communication & Scheduling": 1008616,\n    "Business": 313264,\n    "Social Networking": 188427,\n    "Design & Composition": 497182,\n    "Shopping": 92128\n  }\n}\n')),Object(o.b)("p",null,Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://stethoscope-js.github.io/stethoscope/data/rescuetime-time-tracking/summary/top-overview/years.json"}),"Test this endpoint \u2192")),Object(o.b)("p",null,"Similarly, each integration data point has its own summary for all the time periods \u2014 years, months, weeks, and days."),Object(o.b)("p",null,"Some integrations that don't have multiple keys don't require that additional parameter in the URL. For example, the URL for the Wakatime API is ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://stethoscope-js.github.io/stethoscope/data/wakatime-time-tracking/api.json"}),"https://stethoscope-js.github.io/stethoscope/data/wakatime-time-tracking/api.json"),". Its response does not have any additional keys, just the time periods:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "days": {\n    "2020": ["01.json"]\n  },\n  "months": ["2020.json"],\n  "weeks": {\n    "2020": ["1.json", "2.json", "3.json", "4.json"]\n  },\n  "years": "years.json"\n}\n')),Object(o.b)("p",null,"Likewise, its ",Object(o.b)("inlineCode",{parentName:"p"},"years.json")," endpoint is ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://stethoscope-js.github.io/stethoscope/data/wakatime-time-tracking/summary/years.json"}),"https://stethoscope-js.github.io/stethoscope/data/wakatime-time-tracking/summary/years.json"),". The response is:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "2019": 761539.7373129998,\n  "2020": 2864267.981469\n}\n')),Object(o.b)("h2",{id:"rate-limits"},"Rate limits"),Object(o.b)("p",null,"Since we're using GitHub Pages to publish your API, you have to respect their usage limits. In most cases, you will not have a problem, but it's good to know (",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.github.com/en/github/working-with-github-pages/about-github-pages#usage-limits"}),"source"),"):"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"There are no rate limits")," on using these JSON endpoints"),Object(o.b)("li",{parentName:"ul"},"Published site may be no larger than 1 GB in size"),Object(o.b)("li",{parentName:"ul"},"Soft bandwidth limit of 100 GB per month"),Object(o.b)("li",{parentName:"ul"},"Soft limit of 10 builds per hour")))}b.isMDXComponent=!0}}]);